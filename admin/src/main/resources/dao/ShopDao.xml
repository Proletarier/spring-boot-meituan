<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.heng.mall.dao.ShopDao">
    <resultMap id="shopInfoMap" type="com.heng.mall.dto.ShopInfo"
               extends="com.heng.mall.mapper.ShopMapper.BaseResultMap">
        <collection property="shopPromotionDetails" column="{shopId=id}" select="selectShopPromotionByShopId"/>
        <collection property="shopQualification" column="{shopId=id}" select="selectShopQualificationByShopId"/>
    </resultMap>
    <select id="getShopInfo" resultMap="shopInfoMap">
        select * from shop where id=#{id}
    </select>
    <select id="selectShopPromotionByShopId" resultMap="com.heng.mall.mapper.ShopPromotionDetailsMapper.BaseResultMap">
        select * from shop_promotion_details where shop_id=#{shopId}
    </select>
    <select id="selectShopQualificationByShopId" resultMap="com.heng.mall.mapper.ShopQualificationMapper.BaseResultMap">
        select * from shop_qualification where shop_id=#{shopId}
    </select>

</mapper>